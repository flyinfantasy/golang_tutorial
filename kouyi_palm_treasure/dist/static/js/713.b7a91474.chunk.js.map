{"version":3,"file":"static/js/713.b7a91474.chunk.js","mappings":"oOAiHA,UAzGqB,WACjB,IAAMA,GAASC,EAAAA,EAAAA,MACfC,GAMkBC,EAAAA,EAAAA,UAMf,CACCC,WAAW,GACXC,SAAS,GACTC,SAAS,GACTC,WAAW,EACXC,YAAY,IACdC,GAAAC,EAAAA,EAAAA,GAAAR,EAAA,GAAAS,EAAAF,EAAA,GAjBEL,EAAUO,EAAVP,WACAC,EAAQM,EAARN,SACAC,EAAQK,EAARL,SACAC,EAASI,EAATJ,UACAC,EAAUG,EAAVH,WACFI,EAAYH,EAAA,GAcRI,EAAwE,SAACC,EAAIC,GAAiB,IAAdC,EAAMD,EAANC,OAClFJ,GAAa,SAAAK,GACT,IAAMC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUJ,IAE3C,OADAC,EAASJ,GAAQE,EAAOM,MACjBJ,CACX,GACJ,EAEMK,EAAoD,SAAAC,GAAM,OAAIZ,GAAa,SAAAK,GAAS,OAAAQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUR,GAAS,IAACT,WAAWgB,GAAM,GAAI,EAsCnI,OAdAE,EAAAA,EAAAA,YAAU,WACHC,eAAeC,QAAQ,WACmB,6CAAtCD,eAAeC,QAAQ,aACtBhB,GAAa,SAAAK,GAAS,OAAAQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUR,GAAS,IAACV,WAAU,GAAK,IACzDsB,MAAM,8CACN7B,EAAO,CAAE8B,SAAS,aAGtBlB,GAAa,SAAAK,GAAS,OAAAQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUR,GAAS,IAACV,WAAU,GAAK,IACzDsB,MAAM,8CACN7B,EAAO,CAAE8B,SAAS,WAE1B,GAAG,IAEIvB,GAEKwB,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAAAC,UACNC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcF,SAAA,EACzBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaF,SAAA,EACxBF,EAAAA,EAAAA,KAACK,EAAAA,GAAW,CACRD,UAAW/B,EAAWiC,OAAS,EAAI,OAAS,GAC5CC,MAAM,2BAAOxB,KAAK,OAClByB,QAASnC,EACToC,YAAa3B,EAAO4B,KAAKC,EAAK,cAC9BC,WAAYpB,EAAyBkB,KAAKC,GAAK,GAC/CE,UAAW,kBAAMC,YAAW,kBAAMtB,GAAyB,EAAM,GAAC,IAAI,KAE1EQ,EAAAA,EAAAA,KAAA,OAAKI,UAAW3B,EAAa,sCAAwC,+BAA+ByB,UAChGF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,yBAAwBF,UACnCF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mBAAkBF,UAC3B7B,EAAa0C,EAAAA,QAA0B,SAAAC,GAAI,OAAIA,EAAKC,eAAeC,MAAM7C,EAAW,IAAI0C,GAAoBI,KAAI,SAACH,EAAKI,GAAK,OACzHjB,EAAAA,EAAAA,MAAA,OAAKC,UAAW/B,IAAe2C,EAAKC,eAAiB,mBAAqB,YAAyBI,QAAS,kBAAMxC,GAAa,SAAAK,GAAS,OAAAQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUR,GAAS,IAACb,WAAW2C,EAAKC,eAAexC,YAAW,GAAK,GAAI,EAACyB,SAAA,CAC3Mc,EAAKC,eAAe,IAAED,EAAKM,eAAe,IAAEN,EAAKO,iBADsCH,EAEtF,cAM1BpB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,cAAaF,UACxBF,EAAAA,EAAAA,KAACK,EAAAA,GAAW,CAACD,UAAW9B,EAASgC,OAAS,EAAI,OAAS,GAAIC,MAAM,2BAAOxB,KAAK,OAAOyB,QAASlC,EAAUmC,YAAa3B,EAAO4B,KAAKC,EAAK,iBAEzIX,EAAAA,EAAAA,KAAA,OAAKI,UAAU,cAAaF,UACxBF,EAAAA,EAAAA,KAACK,EAAAA,GAAW,CAACD,UAAW7B,EAAS+B,OAAS,EAAI,OAAS,GAAIC,MAAM,2BAAOxB,KAAK,WAAWyB,QAASjC,EAAUkC,YAAa3B,EAAO4B,KAAKC,EAAK,iBAE7IX,EAAAA,EAAAA,KAAA,OAAKI,UAAU,eAAeiB,QAnEf,WACf,KAAb/C,EAKa,KAAbC,EAKHiD,EAAAA,EAAAA,KAAW,yBAAyB,CAAEC,YAAYpD,EAAWqD,eAAepD,EAASqD,gBAAgBC,IAAKrD,KAAasD,MAAK,SAAAC,GACxHhC,MAAM,4BACNjB,GAAa,SAAAK,GAAS,OAAAQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACfR,GAAS,IACZb,WAAW,GACXC,SAAS,GACTC,SAAS,IAAE,GAEnB,IAAGwD,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAI,IAZ5BlC,MAAM,kCALNA,MAAM,6CAkBd,EA+C2EI,SAAC,sBAGhE,IAChB,C,mBC9GiEiC,EAAOC,QAG/D,WAAc,aAUrB,SAASC,EAAWC,GAClB,IAEEC,EAFEC,EAAwC,GAAxBF,EAAIhC,OAAS,GAAM,GACrCmC,EAAS,GAGX,IAAKF,EAAI,EAAGA,EAAkB,GAAdC,EAAkBD,IAChCE,EAAOF,GAAK,EAEd,IAAKA,EAAI,EAAGA,EAAID,EAAIhC,OAAQiC,IAC1BE,EAAOF,GAAK,IAAMD,EAAII,WAAWH,IAAO,GAAe,GAAL,EAAJA,GAKhD,OAHAE,EAAOF,GAAK,IAAM,KAAS,GAAe,GAAL,EAAJA,GACjCE,EAAqB,GAAdD,EAAmB,GAAkB,EAAbF,EAAIhC,OAE5BmC,CACT,CAIA,SAASE,EAASC,GAChB,IAEEL,EAFEM,EAAY,mBACdP,EAAM,GAGR,IAAKC,EAAI,EAAGA,EAAsB,EAAlBK,EAAStC,OAAYiC,IACnCD,GAAOO,EAAUC,OAAQF,EAASL,GAAK,IAAqB,GAAb,EAAIA,EAAI,GAAS,EAAM,IACpEM,EAAUC,OAAQF,EAASL,GAAK,IAAqB,GAAb,EAAIA,EAAI,GAAW,IAG/D,OAAOD,CACT,CAKA,SAASS,EAAKC,GACZ,IAMEC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAf,EACAgB,EAbEC,EAAI,GACNC,EAAI,WACJC,EAAI,WACJC,EAAI,WACJC,EAAI,UACJC,EAAI,WAUN,IAAKtB,EAAI,EAAGA,EAAIS,EAAW1C,OAAQiC,GAAK,GAAI,CAO1C,IANAU,EAAOQ,EACPP,EAAOQ,EACPP,EAAOQ,EACPP,EAAOQ,EACPP,EAAOQ,EAEFN,EAAI,EAAGA,EAAI,GAAIA,IAEhBC,EAAED,GADAA,EAAI,GACCP,EAAWT,EAAIgB,GAEfO,EAAYN,EAAED,EAAI,GAAKC,EAAED,EAAI,GAAKC,EAAED,EAAI,IAAMC,EAAED,EAAI,IAAK,GAElED,EAAIS,EAAQA,EAAQD,EAAYL,EAAG,GAAIO,EAAGT,EAAGG,EAAGC,EAAGC,IAAKG,EAAQA,EAAQF,EAAGL,EAAED,IAAKU,EAAGV,KACrFM,EAAID,EACJA,EAAID,EACJA,EAAIG,EAAYJ,EAAG,IACnBA,EAAID,EACJA,EAAIH,EAGNG,EAAIM,EAAQN,EAAGR,GACfS,EAAIK,EAAQL,EAAGR,GACfS,EAAII,EAAQJ,EAAGR,GACfS,EAAIG,EAAQH,EAAGR,GACfS,EAAIE,EAAQF,EAAGR,EACjB,CAEA,MAAO,CAACI,EAAGC,EAAGC,EAAGC,EAAGC,EACtB,CAKA,SAASG,EAAGV,EAAGI,EAAGC,EAAGC,GACnB,OAAIN,EAAI,GACEI,EAAIC,GAAQD,EAAKE,EAChBN,EAAI,GACNI,EAAIC,EAAIC,EACNN,EAAI,GACLI,EAAIC,EAAMD,EAAIE,EAAMD,EAAIC,EAEzBF,EAAIC,EAAIC,CAEnB,CAKA,SAASK,EAAGX,GACV,OAAQA,EAAI,GAAM,WACfA,EAAI,GAAM,WACRA,EAAI,GAAM,WAAa,UAC9B,CAMA,SAASS,EAAQG,EAAGC,GAClB,IAAIC,GAAW,MAAJF,IAAmB,MAAJC,GAG1B,OAFUD,GAAK,KAAOC,GAAK,KAAOC,GAAO,KAEzB,GAAa,MAANA,CACzB,CAMA,SAASN,EAAYO,EAAKC,GACxB,OAAQD,GAAOC,EAAMD,IAAS,GAAKC,CACrC,CAKA,SAAS1C,EAAK2C,GACZ,OAAO5B,EAASI,EAAKV,EAAWkC,IAClC,CAEA,OAAO3C,CAET,CAnJkF4C,E","sources":["container/AdminRegister/AdminRegister.tsx","../node_modules/sha-1/dist/sha1.umd.js"],"sourcesContent":["import { FC,useState,ChangeEvent, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport sha1 from 'sha-1'\r\nimport pigeonClubCodeList from '../../asset/pigeonClubCodeList.json' // 臨時設定後端 api 完成後會移除\r\nimport { CustomInput } from '../../component'\r\nimport { fetch } from '../../utils'\r\nimport { Container } from '.'\r\n\r\nconst AdminRoot:FC = ():JSX.Element | null => {\r\n    const router = useNavigate()\r\n    const [{\r\n        pigeonClub,\r\n        pigeonAc,\r\n        pigeonPs,\r\n        canRender,\r\n        toggleList\r\n    },setPageState] = useState<{\r\n        pigeonClub:string,\r\n        pigeonAc:string,\r\n        pigeonPs:string,\r\n        canRender:boolean,\r\n        toggleList:boolean\r\n    }>({\r\n        pigeonClub:'',\r\n        pigeonAc:'',\r\n        pigeonPs:'',\r\n        canRender: true,\r\n        toggleList: false\r\n    })\r\n\r\n    const setVal:(type:string,{ target }:ChangeEvent<HTMLInputElement>) => void = (type,{ target }) => {\r\n        setPageState(prevState => {\r\n            const deepCopy = JSON.parse(JSON.stringify(prevState))\r\n            deepCopy[type] = target.value\r\n            return deepCopy\r\n        })\r\n    }\r\n\r\n    const togglePigeonClubCodeList:(status:boolean) => void = status => setPageState(prevState => ({ ...prevState,toggleList:status }))\r\n\r\n    const registerAccount:() => void = () => {\r\n        if(pigeonAc === ''){\r\n            alert('請輸入鴿會代號')\r\n            return\r\n        }\r\n\r\n        if(pigeonPs === '') {\r\n            alert('請輸入電話')\r\n            return\r\n        }\r\n\r\n        fetch.post('adminRegister.register',{ pigeon_club:pigeonClub,pigeon_account:pigeonAc,pigeon_password:sha1(pigeonPs) }).then(res => {\r\n            alert('註冊成功')\r\n            setPageState(prevState => ({\r\n                ...prevState,\r\n                pigeonClub:'',\r\n                pigeonAc:'',\r\n                pigeonPs:''\r\n            }))\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(sessionStorage.getItem('f_token')){\r\n            if(sessionStorage.getItem('f_token') !== 'c5dda332875784535da144e5d7f3862d675686a9'){\r\n                setPageState(prevState => ({ ...prevState,canRender:false }))\r\n                alert('您非系統管理員')\r\n                router({ pathname:'/login' })\r\n            }\r\n        } else {\r\n            setPageState(prevState => ({ ...prevState,canRender:false }))\r\n            alert('您非系統管理員')\r\n            router({ pathname:'/login' })\r\n        }\r\n    }, [])\r\n\r\n    return canRender ? \r\n            (\r\n                <Container>\r\n                    <div className=\"input-groups\">\r\n                        <div className=\"input-outer\">\r\n                            <CustomInput \r\n                                className={pigeonClub.length > 0 ? 'lock' : ''} \r\n                                label='鴿會代號' type='text' \r\n                                bindVal={pigeonClub} \r\n                                changeEvent={setVal.bind(this,'pigeonClub')} \r\n                                clickEvent={togglePigeonClubCodeList.bind(this,true)}\r\n                                blurEvent={() => setTimeout(() => togglePigeonClubCodeList(false),100)}\r\n                            />\r\n                            <div className={toggleList ? 'pigeon-club-list-outer-frame active' : 'pigeon-club-list-outer-frame'}>\r\n                                <div className=\"pigeon-club-list-outer\">\r\n                                    <div className=\"pigeon-club-list\">\r\n                                        {(pigeonClub ? pigeonClubCodeList.filter(item => item.pigeonClubCode.match(pigeonClub)) : pigeonClubCodeList).map((item,index) => (\r\n                                            <div className={pigeonClub === item.pigeonClubCode ? 'list-item active' : 'list-item'} key={index} onClick={() => setPageState(prevState => ({ ...prevState,pigeonClub:item.pigeonClubCode,toggleList:false }))}>\r\n                                                {item.pigeonClubCode}-{item.pigeonClubArea}-{item.pigeonClubName}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"input-outer\">\r\n                            <CustomInput className={pigeonAc.length > 0 ? 'lock' : ''} label='鴿會帳號' type='text' bindVal={pigeonAc} changeEvent={setVal.bind(this,'pigeonAc')} />\r\n                        </div>\r\n                        <div className=\"input-outer\">\r\n                            <CustomInput className={pigeonPs.length > 0 ? 'lock' : ''} label='鴿會密碼' type='password' bindVal={pigeonPs} changeEvent={setVal.bind(this,'pigeonPs')} />\r\n                        </div>\r\n                        <div className=\"register-btn\" onClick={registerAccount}>註冊</div>\r\n                    </div>\r\n                </Container>\r\n            ) : null\r\n}\r\n\r\nexport default AdminRoot","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.sha1 = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * @file This is a SHA-1 hash generator by JavaScript.\n   * @author Hsun\n   * @description For your convenience, the code comments have been translated by Google.\n   ***/\n\n  // 消息填充位，补足长度。\n  // Message padding bits, complement the length.\n  function fillString(str) {\n    var blockAmount = ((str.length + 8) >> 6) + 1,\n      blocks = [],\n      i;\n\n    for (i = 0; i < blockAmount * 16; i++) {\n      blocks[i] = 0;\n    }\n    for (i = 0; i < str.length; i++) {\n      blocks[i >> 2] |= str.charCodeAt(i) << (24 - (i & 3) * 8);\n    }\n    blocks[i >> 2] |= 0x80 << (24 - (i & 3) * 8);\n    blocks[blockAmount * 16 - 1] = str.length * 8;\n\n    return blocks;\n  }\n\n  // 将输入的二进制数组转化为十六进制的字符串。\n  // Convert the input binary array to a hexadecimal string.\n  function binToHex(binArray) {\n    var hexString = \"0123456789abcdef\",\n      str = \"\",\n      i;\n\n    for (i = 0; i < binArray.length * 4; i++) {\n      str += hexString.charAt((binArray[i >> 2] >> ((3 - i % 4) * 8 + 4)) & 0xF) +\n        hexString.charAt((binArray[i >> 2] >> ((3 - i % 4) * 8)) & 0xF);\n    }\n\n    return str;\n  }\n\n  // 核心函数，输出为长度为5的number数组，对应160位的消息摘要。\n  // The core function, the output is a number array with a length of 5,\n  // corresponding to a 160-bit message digest.\n  function core(blockArray) {\n    var w = [],\n      a = 0x67452301,\n      b = 0xEFCDAB89,\n      c = 0x98BADCFE,\n      d = 0x10325476,\n      e = 0xC3D2E1F0,\n      olda,\n      oldb,\n      oldc,\n      oldd,\n      olde,\n      t,\n      i,\n      j;\n\n    for (i = 0; i < blockArray.length; i += 16) {  //每次处理512位 16*32\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n      olde = e;\n\n      for (j = 0; j < 80; j++) {  //对每个512位进行80步操作\n        if (j < 16) {\n          w[j] = blockArray[i + j];\n        } else {\n          w[j] = cyclicShift(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1);\n        }\n        t = modPlus(modPlus(cyclicShift(a, 5), ft(j, b, c, d)), modPlus(modPlus(e, w[j]), kt(j)));\n        e = d;\n        d = c;\n        c = cyclicShift(b, 30);\n        b = a;\n        a = t;\n      }\n\n      a = modPlus(a, olda);\n      b = modPlus(b, oldb);\n      c = modPlus(c, oldc);\n      d = modPlus(d, oldd);\n      e = modPlus(e, olde);\n    }\n\n    return [a, b, c, d, e];\n  }\n\n  // 根据t值返回相应得压缩函数中用到的f函数。\n  // According to the t value, return the corresponding f function used in\n  // the compression function.\n  function ft(t, b, c, d) {\n    if (t < 20) {\n      return (b & c) | ((~b) & d);\n    } else if (t < 40) {\n      return b ^ c ^ d;\n    } else if (t < 60) {\n      return (b & c) | (b & d) | (c & d);\n    } else {\n      return b ^ c ^ d;\n    }\n  }\n\n  // 根据t值返回相应得压缩函数中用到的K值。\n  // According to the t value, return the corresponding K value used in\n  // the compression function.\n  function kt(t) {\n    return (t < 20) ? 0x5A827999 :\n      (t < 40) ? 0x6ED9EBA1 :\n        (t < 60) ? 0x8F1BBCDC : 0xCA62C1D6;\n  }\n\n  // 模2的32次方加法，因为JavaScript的number是双精度浮点数表示，所以将32位数拆成高16位和低16位分别进行相加\n  // Modulo 2 to the 32nd power addition, because JavaScript's number is a\n  // double-precision floating-point number, so the 32-bit number is split\n  // into the upper 16 bits and the lower 16 bits are added separately.\n  function modPlus(x, y) {\n    var low = (x & 0xFFFF) + (y & 0xFFFF),\n      high = (x >> 16) + (y >> 16) + (low >> 16);\n\n    return (high << 16) | (low & 0xFFFF);\n  }\n\n  // 对输入的32位的num二进制数进行循环左移 ,因为JavaScript的number是双精度浮点数表示，所以移位需需要注意\n  // Rotate left of the input 32-bit num binary number, because JavaScript's\n  // number is a double-precision floating-point number, so you need to pay\n  //  attention to the shift.\n  function cyclicShift(num, k) {\n    return (num << k) | (num >>> (32 - k));\n  }\n\n  // 主函数根据输入的消息字符串计算消息摘要，返回十六进制表示的消息摘要\n  // The main function calculates the message digest based on the input message\n  // string and returns the message digest in hexadecimal.\n  function sha1(s) {\n    return binToHex(core(fillString(s)));\n  }\n\n  return sha1;\n\n})));\n"],"names":["router","useNavigate","_useState","useState","pigeonClub","pigeonAc","pigeonPs","canRender","toggleList","_useState2","_slicedToArray","_useState2$","setPageState","setVal","type","_ref","target","prevState","deepCopy","JSON","parse","stringify","value","togglePigeonClubCodeList","status","_objectSpread","useEffect","sessionStorage","getItem","alert","pathname","_jsx","Container","children","_jsxs","className","CustomInput","length","label","bindVal","changeEvent","bind","_this","clickEvent","blurEvent","setTimeout","pigeonClubCodeList","item","pigeonClubCode","match","map","index","onClick","pigeonClubArea","pigeonClubName","fetch","pigeon_club","pigeon_account","pigeon_password","sha1","then","res","catch","err","console","log","module","exports","fillString","str","i","blockAmount","blocks","charCodeAt","binToHex","binArray","hexString","charAt","core","blockArray","olda","oldb","oldc","oldd","olde","t","j","w","a","b","c","d","e","cyclicShift","modPlus","ft","kt","x","y","low","num","k","s","factory"],"sourceRoot":""}